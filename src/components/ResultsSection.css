.results-demo {
  padding: 32px 28px 48px;
  display: flex;
  flex-direction: column;
  min-height: 100%;
  background: #ffffff;
}

/* When used as inline section */
.results-demo.results-section {
  padding-top: 0px;
  margin-top: -30px;
  min-height: auto;
}

/* Title - page title */
.results-title {
  font-family: var(--font-serif);
  font-size: 28px;
  font-weight: 400;
  color: #000;
  margin: 0 0 24px 0;
  text-align: center;
  letter-spacing: 0.01em;
}

/* Image carousel container */
.image-carousel-container {
  width: 100%;
  max-width: 300px;
  margin: 0 auto 24px;
  background: #ffffff;
}

.image-carousel-wrapper {
  overflow: hidden;
  border-radius: 8px;
  background: #ffffff;
}

.image-carousel {
  display: flex;
  gap: 16px;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
  -ms-overflow-style: none;
  background: transparent;
}

.image-carousel::-webkit-scrollbar {
  display: none;
}

.carousel-slide {
  flex: 0 0 100%;
  scroll-snap-align: start;
  display: flex;
  justify-content: center;
}

/* Image frame - 3:4 aspect ratio */
.image-frame {
  width: 100%;
  aspect-ratio: 3 / 4;
  border-radius: 8px;
  overflow: hidden;
  background: #000;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
  position: relative;
}

/* Blurred background fill for generated images */
.image-frame .blur-background {
  position: absolute;
  top: -20px;
  left: -20px;
  right: -20px;
  bottom: -20px;
  background-size: cover;
  background-position: center;
  filter: blur(30px) brightness(0.7);
  transform: scale(1.2);
  z-index: 1;
}

.fit-image {
  position: relative;
  width: 100%;
  height: 100%;
  object-fit: contain;
  z-index: 2;
}

/* Dot indicators */
.carousel-dots {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 8px;
  margin-top: 16px;
  height: 12px; /* Fixed height to prevent layout shift */
}

.dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: #ddd;
  border: none;
  padding: 0;
  cursor: pointer;
  transition: all 0.2s ease;
  transform: scale(0.75);
}

.dot.active {
  background: #000004;
  transform: scale(1);
}

/* Size picker container */
.size-picker-container {
  width: 100%;
  max-width: 300px;
  margin: 0 auto 16px;
}

.size-picker {
  display: flex;
  justify-content: center;
  width: 100%;
  gap: 0;
}

/* Size picker cards - equal width, evenly distributed */
.size-picker-card {
  flex: 1 1 0;
  padding: 8px 4px 6px;
  border: none;
  border-radius: 12px;
  background: transparent;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 2px;
  overflow: visible;
}

.size-picker-card:not(.selected) {
  opacity: 0.4;
}

.size-picker-card.unavailable {
  opacity: 0.3;
  cursor: not-allowed;
}

.size-picker-card.selected {
  background: #E8E8EA;
  opacity: 1;
}

.size-picker-label {
  font-family: var(--font-sans);
  font-size: 15px;
  font-weight: 500;
  letter-spacing: 0.3px;
  color: #666;
  transition: color 0.3s ease;
  text-align: center;
  padding: 8px 0;
}

.size-picker-card.selected .size-picker-label {
  color: #000004;
}

/* Suggested size section */
.suggested-size-section {
  width: 100%;
  max-width: 300px;
  margin: 24px auto 0;
  text-align: center;
}

.suggested-size-subtitle {
  font-family: var(--font-sans);
  font-size: 14px;
  font-weight: 300;
  color: #222;
  margin: 0 0 16px 0;
}

.suggested-size-row {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
}

.suggested-size-value {
  font-family: var(--font-sans);
  font-size: 36px;
  font-weight: 600;
  color: #000;
  line-height: 1;
}

.suggested-size-value.out-of-range {
  font-size: 22px;
  font-weight: 500;
  color: #86868b;
}

.info-icon-button {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 4px;
  background: none;
  border: none;
  cursor: pointer;
  color: #c7c7cc;
  -webkit-tap-highlight-color: transparent;
}

.info-icon-button svg {
  width: 16px;
  height: 16px;
}

/* Info Bottom Sheet */
.info-sheet-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.4);
  display: flex;
  align-items: flex-end;
  justify-content: center;
  z-index: 1000;
  animation: fadeIn 0.2s ease;
}

.info-sheet {
  width: 100%;
  max-width: 400px;
  background: #fff;
  border-radius: 16px 16px 0 0;
  padding: 20px;
  animation: slideUp 0.25s ease;
  max-height: 80vh;
  overflow-y: auto;
}

.info-sheet-handle {
  width: 36px;
  height: 5px;
  background: #e0e0e0;
  border-radius: 3px;
  margin: 0 auto 20px;
}

.info-sheet-content {
  max-width: 340px;
  margin: 0 auto;
}

.info-sheet-title {
  font-family: var(--font-serif);
  font-size: 20px;
  font-weight: 400;
  color: #000;
  margin: 0 0 8px 0;
  text-align: left;
}

.info-sheet-text {
  font-family: var(--font-sans);
  font-size: 14px;
  font-weight: 400;
  color: #666;
  line-height: 1.5;
  margin: 0 0 20px 0;
  text-align: left;
}

.info-sheet-comparison {
  margin-bottom: 20px;
}

.info-sheet-comparison-header {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  padding: 0 0 8px 0;
}

.info-sheet-comparison-header span {
  font-family: var(--font-sans);
  font-size: 11px;
  font-weight: 400;
  color: #86868b;
}

.info-sheet-comparison-header span:first-child {
  text-align: left;
}

.info-sheet-comparison-header span:nth-child(2),
.info-sheet-comparison-header span:nth-child(3) {
  text-align: center;
}

.info-sheet-comparison-row {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  padding: 8px 0;
  border-top: 1px solid rgba(0, 0, 0, 0.06);
}

.info-sheet-comparison-row span {
  font-family: var(--font-sans);
  font-size: 12px;
  font-weight: 400;
}

.info-sheet-comparison-row span:first-child {
  text-align: left;
  color: #86868b;
}

.info-sheet-comparison-row span:nth-child(2),
.info-sheet-comparison-row span:nth-child(3) {
  text-align: center;
  color: #1d1d1f;
}

.info-sheet-disclaimer {
  font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', var(--font-sans), sans-serif;
  font-size: 11px;
  font-weight: 400;
  letter-spacing: -0.01em;
  color: #86868b;
  text-align: left;
  margin: 6px 0 0 0;
  line-height: 1.4;
}

/* Results page section title */
.results-section-title {
  font-family: var(--font-serif);
  font-size: 20px;
  font-weight: 400;
  color: #000;
  margin: 0 0 16px 0;
  text-align: center;
  letter-spacing: 0.01em;
}


/* Loading state */
.loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 300px;
}

/* Loading inside image frame */
.image-frame.loading-frame {
  display: flex;
  align-items: center;
  justify-content: center;
  background: #f8f8f8;
  position: relative;
}

.loading-blur-background {
  position: absolute;
  top: -20px;
  left: -20px;
  right: -20px;
  bottom: -20px;
  background-size: cover;
  background-position: center;
  filter: blur(20px);
  opacity: 0.7;
}

.image-frame.loading-frame .loading {
  min-height: auto;
  position: relative;
  z-index: 1;
}

/* Smooth gradient arc spinner */
.spinner {
  width: 48px;
  height: 48px;
  position: relative;
  animation: spin 1s linear infinite;
}

.spinner::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  border-radius: 50%;
  background: conic-gradient(
    from 0deg,
    transparent 0deg,
    transparent 60deg,
    rgba(255, 255, 255, 0) 60deg,
    rgba(255, 255, 255, 0.1) 120deg,
    rgba(255, 255, 255, 0.3) 180deg,
    rgba(255, 255, 255, 0.6) 240deg,
    rgba(255, 255, 255, 0.85) 300deg,
    rgba(255, 255, 255, 1) 330deg,
    rgba(255, 255, 255, 1) 360deg
  );
  -webkit-mask: radial-gradient(farthest-side, transparent calc(100% - 4px), #fff calc(100% - 4px));
  mask: radial-gradient(farthest-side, transparent calc(100% - 4px), #fff calc(100% - 4px));
}

/* Rounded cap at the leading edge */
.spinner::after {
  content: '';
  position: absolute;
  top: 0;
  left: 50%;
  width: 4px;
  height: 4px;
  background: #fff;
  border-radius: 50%;
  transform: translateX(-50%);
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.loading p {
  margin-top: 16px;
  color: #666;
  font-size: 14px;
}

/* White text when loading on blurred background */
.image-frame.loading-frame .loading p {
  font-family: var(--font-sans);
  font-size: 14px;
  font-weight: 400;
  color: #fff;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
}

/* Error state */
.error {
  padding: 40px 20px;
  text-align: center;
}

.error p {
  color: #c00;
  margin-bottom: 20px;
}

/* No scroll class for single image */
.image-carousel.no-scroll {
  overflow-x: hidden;
}

/* Back button */
.back-button {
  margin-top: auto;
  padding: 12px 24px;
  font-family: var(--font-sans);
  font-size: 14px;
  font-weight: 400;
  color: #666;
  background: none;
  border: 1px solid #ddd;
  border-radius: 8px;
  cursor: pointer;
  align-self: center;
}

.back-button:hover {
  background: #fafafa;
  border-color: #ccc;
}

/* Regenerate button - fixed position over carousel */
.image-carousel-wrapper {
  position: relative;
}

.regenerate-button {
  position: absolute;
  bottom: 16px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 10;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 4px;
  padding: 0;
  font-family: var(--font-sans);
  font-size: 13px;
  font-weight: 300;
  color: #fff;
  background: none;
  border: none;
  cursor: pointer;
  text-decoration: underline;
  text-underline-offset: 2px;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
  transition: opacity 0.2s ease;
}

.regenerate-button:hover {
  opacity: 0.8;
}

.regenerate-icon {
  width: 12px;
  height: 12px;
  flex-shrink: 0;
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.5));
  position: relative;
  top: 2px;
}

/* Share button - centered icon */
.share-button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 52px;
  height: 52px;
  margin: 12px auto 12px;
  padding: 0;
  background: none;
  border: none;
  cursor: pointer;
  color: #848484ff;
  transition: color 0.2s ease;
  -webkit-tap-highlight-color: transparent;
  outline: none;
}

.share-button:hover {
  color: #000;
}

.share-button:active {
  color: #ddd;
}

/* Share modal overlay */
.share-modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: flex-end;
  justify-content: center;
  z-index: 1000;
  animation: fadeIn 0.25s ease;
}

.share-modal-overlay.closing {
  animation: fadeOut 0.25s ease forwards;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fadeOut {
  from { opacity: 1; }
  to { opacity: 0; }
}

/* Share modal */
.share-modal {
  width: 100%;
  max-width: 400px;
  background: #fff;
  border-radius: 16px 16px 0 0;
  padding: 20px;
  animation: slideUp 0.25s ease;
}

.share-modal.closing {
  animation: slideDown 0.25s ease forwards;
}

@keyframes slideUp {
  from { transform: translateY(100%); }
  to { transform: translateY(0); }
}

@keyframes slideDown {
  from { transform: translateY(0); }
  to { transform: translateY(100%); }
}

.share-modal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 20px;
  max-width: 340px;
  margin-left: auto;
  margin-right: auto;
}

.share-modal-header h3 {
  font-family: var(--font-serif);
  font-size: 20px;
  font-weight: 300;
  margin: 0;
  color: #000;
  letter-spacing: 0.01em;
}

.share-modal-close {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  padding: 0;
  background: none;
  border: none;
  cursor: pointer;
  color: #666;
  -webkit-tap-highlight-color: transparent;
  outline: none;
}

.share-modal-close:hover {
  color: #000;
}

.share-modal-close:active {
  color: #ddd;
}

/* Share image options */
.share-modal-images {
  display: flex;
  justify-content: center;
  gap: 20px;
  padding-bottom: 12px;
  max-width: 340px;
  margin: 0 auto;
}

.share-image-option {
  flex: 0 0 auto;
  width: 100px;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 0;
  background: none;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  opacity: 1;
  -webkit-tap-highlight-color: transparent;
  outline: none;
}

.share-image-option:active {
  opacity: 0.4;
}

.share-image-option:disabled,
.share-image-option.sharing {
  opacity: 0.5;
  cursor: not-allowed;
}

.share-image-option img {
  width: 100%;
  aspect-ratio: 3 / 4;
  object-fit: cover;
  border-radius: 4px;
}

.share-image-label {
  font-family: var(--font-sans);
  font-size: 12px;
  font-weight: 500;
  letter-spacing: 0.3px;
  color: #696969ff;
  margin-top: 20px;
  margin-bottom: 4px;
  text-align: center;
}

.share-image-size {
  font-family: var(--font-sans);
  font-size: 16px;
  font-weight: 600;
  color: #000;
}

/* Share loading state */
.share-loading {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 12px;
  color: #666;
  font-size: 14px;
}

.spinner.small {
  width: 20px;
  height: 20px;
}

.spinner.small::before {
  background: conic-gradient(
    from 0deg,
    transparent 0deg,
    transparent 60deg,
    rgba(0, 0, 0, 0) 60deg,
    rgba(0, 0, 0, 0.1) 120deg,
    rgba(0, 0, 0, 0.3) 180deg,
    rgba(0, 0, 0, 0.6) 240deg,
    rgba(0, 0, 0, 0.85) 300deg,
    rgba(0, 0, 0, 1) 330deg,
    rgba(0, 0, 0, 1) 360deg
  );
  -webkit-mask: radial-gradient(farthest-side, transparent calc(100% - 2px), #000 calc(100% - 2px));
  mask: radial-gradient(farthest-side, transparent calc(100% - 2px), #000 calc(100% - 2px));
}

.spinner.small::after {
  width: 2px;
  height: 2px;
  background: #000;
}
